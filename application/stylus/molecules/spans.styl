spansTransition(min, max, dur=duration, dly=0)
  d= 0
  for i in min..max
    d= (d+step)*pattern
    &:nth-child({i})
      hasTransition: dur dly d
      &:before
        hasTransition: dur (dly + step*6) d
spansCurrent()
  > *
    z-index: 1
    opacity: 1
    transform: translateY(0) !important
    spansTransition: 1 15 duration step
    cursor: auto
  for i in 2..5
    &:nth-child({i}) > *
      spansTransition: 1 15 duration step*i
  > mark:before
    {align-alt}: 0

.spans
  white-space: nowrap
.spans
  > *
    display: inline-block
    margin-{align-alt}: 3px
    opacity: 0
    transform: translateY(baseline)
    hasTransition()
    cursor: default
  > mark:before
    {align-alt}: 100%
    hasTransition: unit(step, 's') duration
.current .spans
  spansCurrent()

.headline .spans > *
  margin-{align-alt}: 8px
  transform: translateY(headline-height)

.h1 .spans > *
  margin-{align-alt}: 6px
  transform: translateY(heading1-height)

.h2, .h3
  .spans > *
    margin-{align-alt}: 4px

.h2 .spans > *
  transform: translateY(heading2-height)
